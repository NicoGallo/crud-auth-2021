{"version":3,"sources":["firebase.js","components/Navbar.jsx","components/Login.jsx","components/Firestore.jsx","components/Admin.jsx","components/Reset.jsx","App.jsx","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","withRouter","props","className","to","exact","firebaseUser","onClick","signOut","then","history","push","useState","email","setEmail","pass","setPass","error","setError","isSignUp","setIsSignUp","login","useCallback","a","signInWithEmailAndPassword","res","console","log","user","code","signUp","createUserWithEmailAndPassword","collection","doc","set","uid","add","name","fecha","Date","now","onSubmit","e","preventDefault","trim","length","type","placeholder","onChange","target","value","App","tasks","setTasks","task","setTask","editionMode","setEditionMode","id","setId","lastPage","setLastPage","desactivate","setDesactivate","useEffect","limit","orderBy","get","data","docs","arrayData","map","startAfter","empty","getData","addTask","newTask","date","deleteTask","delete","arrayFiltered","filter","item","editTask","update","arrayEdited","nextPage","moment","format","activateEdition","disabled","setUser","currentUser","Firestore","resetPassword","sendPasswordResetEmail","message","setFirebaserUser","onAuthStateChanged","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"sOAaEA,IAAIC,cATiB,CACrBC,OAAQ,0CACRC,WAAY,yCACZC,UAAW,yBACXC,cAAe,qCACfC,kBAAmB,cACnBC,MAAO,6CAKP,IAAMC,EAAKR,IAAIS,YACTC,EAAOV,IAAIU,O,OCkCJC,eA7CA,SAACC,GAUZ,OACI,sBAAKC,UAAU,6BAAf,UACI,cAAC,IAAD,CAAMA,UAAU,eAAeC,GAAG,IAAlC,qBACA,8BACI,sBAAKD,UAAU,SAAf,UACI,cAAC,IAAD,CAASA,UAAU,oBAAoBC,GAAG,IAAIC,OAAK,EAAnD,oBAI0B,OAAvBH,EAAMI,aACN,cAAC,IAAD,CAASH,UAAU,oBAAoBC,GAAG,SAA1C,mBAEc,KAIc,OAAvBF,EAAMI,aACF,wBAAQH,UAAU,eACjBI,QAAS,WAxBlCP,EAAKQ,UACAC,MAAK,WACFP,EAAMQ,QAAQC,KAAK,cAqBH,2BAMA,cAAC,IAAD,CAASR,UAAU,oBAAoBC,GAAG,SAA1C,8B,wBCmHjBH,eAnJD,SAACC,GAEX,MAA0BU,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,mBAAS,IAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAA0BJ,mBAAS,MAAnC,mBAAOK,EAAP,KAAcC,EAAd,KACA,EAAgCN,oBAAS,GAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KA0BMC,EAAQC,sBAAW,sBAAC,4BAAAC,EAAA,+EAEAvB,EAAKwB,2BAA2BX,EAAOE,GAFvC,OAEbU,EAFa,OAGnBC,QAAQC,IAAIF,EAAIG,MAChBd,EAAS,IACTE,EAAQ,IACRE,EAAS,MACThB,EAAMQ,QAAQC,KAAK,UAPA,kDASlBe,QAAQC,IAAR,MACkB,uBAAf,KAAME,MACLX,EAAS,mBAEK,8BAAf,KAAMW,MACLX,EAAS,sBAEK,wBAAf,KAAMW,MACLX,EAAS,uBAEK,wBAAf,KAAMW,MACLX,EAAS,uBApBK,0DAuBvB,CAACL,EAAME,EAAKb,EAAMQ,UAEfoB,EAASR,sBAAW,sBAAC,4BAAAC,EAAA,+EAEHvB,EAAK+B,+BAA+BlB,EAAOE,GAFxC,cAEhBU,EAFgB,gBAGhB3B,EAAGkC,WAAW,SAASC,IAAIR,EAAIG,KAAKf,OAAOqB,IAAI,CACjDrB,MAAOY,EAAIG,KAAKf,MAChBsB,IAAKV,EAAIG,KAAKO,MALI,uBAOhBrC,EAAGkC,WAAWP,EAAIG,KAAKO,KAAKC,IAAI,CAClCC,KAAM,mBACNC,MAAOC,KAAKC,QATM,OAWtB1B,EAAS,IACTE,EAAQ,IACRE,EAAS,MACThB,EAAMQ,QAAQC,KAAK,UAdG,kDAiBrBe,QAAQC,IAAI,SACM,uBAAf,KAAME,MACPX,EAAS,mBAEO,8BAAf,KAAMW,MACPX,EAAS,sBAtBU,0DA0BxB,CAACL,EAAOE,EAAMb,EAAMQ,UAEvB,OACI,sBAAKP,UAAU,OAAf,UACI,oBAAIA,UAAU,cAAd,SAEIgB,EAAW,WAAa,UAG5B,uBACA,qBAAKhB,UAAU,6BAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,uBAAMsC,SAvFF,SAAAC,GAChBA,EAAEC,iBACE9B,EAAM+B,OAIN7B,EAAK6B,OAIN7B,EAAK8B,OAAS,EACb3B,EAAS,0CAGdA,EAAS,MAENC,EACCW,IAEAT,KAZCH,EAAS,oBAJTA,EAAS,kBAoFD,UAEQD,GACI,qBAAKd,UAAU,qBAAf,SACKc,IAIb,uBACI6B,KAAK,QACL3C,UAAU,oBACV4C,YAAY,gBACZC,SAAU,SAAAN,GAAC,OAAI5B,EAAS4B,EAAEO,OAAOC,QACjCA,MAAOrC,IAEX,uBACIiC,KAAK,WACL3C,UAAU,oBACV4C,YAAY,wBACZC,SAAU,SAAAN,GAAC,OAAI1B,EAAQ0B,EAAEO,OAAOC,QAChCA,MAAOnC,IAGX,wBACIZ,UAAU,gCACV2C,KAAK,SAFT,SAII3B,EAAW,cAAgB,YAE/B,wBACIhB,UAAU,gCACV2C,KAAK,SACLvC,QAAS,kBAAIa,GAAaD,IAH9B,SAMOA,EAAW,2BAA0B,6BAG1CA,EAMY,KANC,wBACXhB,UAAU,8CACV2C,KAAK,SACLvC,QAAS,kBAAML,EAAMQ,QAAQC,KAAK,WAHvB,kD,uCC2DxBwC,MAhMf,SAAajD,GAEX,MAA0BU,mBAAS,IAAnC,mBAAOwC,EAAP,KAAcC,EAAd,KACA,EAAwBzC,mBAAS,IAAjC,mBAAO0C,EAAP,KAAaC,EAAb,KACA,EAAsC3C,oBAAS,GAA/C,mBAAO4C,EAAP,KAAoBC,EAApB,KACA,EAAoB7C,mBAAS,IAA7B,mBAAO8C,EAAP,KAAWC,EAAX,KACA,EAAgC/C,mBAAS,MAAzC,mBAAOgD,EAAP,KAAiBC,EAAjB,KACA,EAAsCjD,oBAAS,GAA/C,mBAAOkD,EAAP,KAAoBC,EAApB,KAEAC,qBAAU,YAEK,uCAAG,8BAAAzC,EAAA,sEAEZwC,GAAe,GAFH,SAIOjE,EAAGkC,WAAW9B,EAAM0B,KAAKO,KAAK8B,MAAM,GAAGC,QAAQ,QAAQC,MAJ9D,cAINC,EAJM,OAKZ1C,QAAQC,IAAIyC,EAAKC,MACXC,EAAYF,EAAKC,KAAKE,KAAI,SAAAtC,GAAG,oBAAMyB,GAAIzB,EAAIyB,IAAOzB,EAAImC,WAE5DP,EAAYO,EAAKC,KAAKD,EAAKC,KAAKxB,OAAS,IAEzCnB,QAAQC,IAAI2C,GACZjB,EAASiB,GAXG,UAaQxE,EAAGkC,WAAW9B,EAAM0B,KAAKO,KAAK8B,MAAM,GAAGC,QAAQ,QAAQM,WAAWJ,EAAKC,KAAKD,EAAKC,KAAKxB,OAAS,IAAIsB,MAb3G,eAcHM,OACP/C,QAAQC,IAAI,qBACZoC,GAAe,IAEfA,GAAe,GAEjBrC,QAAQC,IAAIyC,EAAKC,MApBL,kDAuBZ3C,QAAQC,IAAR,MAvBY,0DAAH,qDA2Bb+C,KACC,CAACxE,EAAM0B,KAAKO,MAGf,IAAMwC,EAAO,uCAAG,WAAMjC,GAAN,iBAAAnB,EAAA,yDACdmB,EAAEC,iBACEW,EAAKV,OAFK,uBAGZlB,QAAQC,IAAI,cAHA,0CASNiD,EAAU,CACdvC,KAAMiB,EACNuB,KAAMtC,KAAKC,OAXD,SAcO1C,EAAGkC,WAAW9B,EAAM0B,KAAKO,KAAKC,IAAIwC,GAdzC,OAcNR,EAdM,OAgBZf,EAAS,GAAD,mBACHD,GADG,aAAC,eAEHwB,GAFE,IAEOlB,GAAIU,EAAKV,QAExBH,EAAQ,IApBI,kDAsBZ7B,QAAQC,IAAR,MAtBY,0DAAH,sDA6BPmD,EAAU,uCAAG,WAAMpB,GAAN,eAAAnC,EAAA,+EAGTzB,EAAGkC,WAAW9B,EAAM0B,KAAKO,KAAKF,IAAIyB,GAAIqB,SAH7B,OAITC,EAAgB5B,EAAM6B,QAAO,SAAAC,GAAI,OAAIA,EAAKxB,KAAOA,KACvDL,EAAS2B,GALM,gDAQftD,QAAQC,IAAR,MARe,yDAAH,sDAmBVwD,EAAQ,uCAAG,WAAOzC,GAAP,eAAAnB,EAAA,yDACfmB,EAAEC,iBACEW,EAAKV,OAFM,uBAGblB,QAAQC,IAAI,SAHC,mDAQP7B,EAAGkC,WAAW9B,EAAM0B,KAAKO,KAAKF,IAAIyB,GAAI0B,OAAO,CACjD/C,KAAMiB,IATK,OAWP+B,EAAcjC,EAAMmB,KAAI,SAAAW,GAAI,OAChCA,EAAKxB,KAAOA,EAAK,CAACA,GAAIwB,EAAKxB,GAAImB,KAAMK,EAAKL,KAAMxC,KAAMiB,GAAQ4B,KAEhE7B,EAASgC,GACT5B,GAAe,GACfF,EAAQ,IACRI,EAAM,IAjBO,kDAmBbjC,QAAQC,IAAR,MAnBa,0DAAH,sDAwBR2D,EAAQ,uCAAG,8BAAA/D,EAAA,+EAEMzB,EAAGkC,WAAW9B,EAAM0B,KAAKO,KAAK8B,MAAM,GAAGC,QAAQ,QAAQM,WAAWZ,GAAUO,MAFlF,OAEPC,EAFO,OAGb1C,QAAQC,IAAIyC,EAAKC,MACXC,EAAYF,EAAKC,KAAKE,KAAI,SAAAtC,GAAG,oBAAMyB,GAAIzB,EAAIyB,IAAOzB,EAAImC,WAC5Df,EAAS,GAAD,mBACHD,GADG,YAEHkB,KAELT,EAAYO,EAAKC,KAAKD,EAAKC,KAAKxB,OAAS,IAT5B,4GAAH,qDAgBd,OACE,qBAAK1C,UAAU,iBAAf,SACA,sBAAKA,UAAU,MAAf,UACI,sBAAKA,UAAU,WAAf,UACI,iDACA,oBAAIA,UAAU,aAAd,SAEIiD,EAAMmB,KAAI,SAAAW,GAAI,OACd,qBAAI/E,UAAU,kBAAd,UACE,iCAAO+E,EAAK7C,KAAZ,MAAqBkD,IAAOL,EAAK5C,OAAOkD,OAAO,UAC/C,wBACIrF,UAAU,oCACVI,QAAS,kBAAMuE,EAAWI,EAAKxB,KAFnC,sBAME,wBACIvD,UAAU,0CACVI,QAAS,kBAhEP,SAAC2E,GACvBzB,GAAe,GACfF,EAAQ2B,EAAK7C,MACbsB,EAAMuB,EAAKxB,IA6DwB+B,CAAgBP,IAFnC,sBARiCA,EAAKxB,SAkB9C,wBAAQvD,UAAU,qCAAqCI,QAAS,kBAAK+E,KAAYI,SAAU5B,EAA3F,0BAIJ,sBAAK3D,UAAU,WAAf,UACM,6BAEIqD,EAAc,eAAiB,kBAGnC,uBAAMf,SAAUe,EAAc2B,EAAWR,EAAzC,UACA,uBACI7B,KAAK,OACL3C,UAAU,oBACV4C,YAAY,gBACZG,MAAOI,EACPN,SAAU,SAAAN,GAAC,OAAIa,EAAQb,EAAEO,OAAOC,UAEpC,wBACIJ,KAAK,SACL3C,UACEqD,EAAc,mCAChB,gCAJJ,SAQIA,EAAc,SAAW,wBC5J5BvD,eAzBD,SAACC,GAEX,MAAwBU,mBAAS,MAAjC,mBAAOgB,EAAP,KAAa+D,EAAb,KAYA,OAVA3B,qBAAU,WACJhE,EAAK4F,aACJlE,QAAQC,IAAI,qBACZgE,EAAQ3F,EAAK4F,eAEblE,QAAQC,IAAI,wBACZzB,EAAMQ,QAAQC,KAAK,aAEvB,CAACT,EAAMQ,QAASkB,IAGjB,sBAAKzB,UAAU,OAAf,UACI,oBAAIA,UAAU,cAAd,4BAEIyB,GACI,cAACiE,EAAD,CAAWjE,KAAMA,UC6CpB3B,eAhEM,SAACC,GAElB,MAA0BU,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA0BF,mBAAS,MAAnC,mBAAOK,EAAP,KAAcC,EAAd,KAcM4E,EAAgBxE,sBAAW,sBAAE,sBAAAC,EAAA,+EAErBvB,EAAK+F,uBAAuBlF,GAFP,OAG3Ba,QAAQC,IAAI,kBACZzB,EAAMQ,QAAQC,KAAK,SAJQ,gDAM3Be,QAAQC,IAAR,MACAT,EAAS,KAAM8E,SAPY,yDAShC,CAACnF,EAAMX,EAAMQ,UAEhB,OACI,sBAAKP,UAAU,OAAf,UACA,oBAAIA,UAAU,cAAd,qCAGA,uBACA,qBAAKA,UAAU,6BAAf,SACI,qBAAKA,UAAU,oCAAf,SACI,uBAAMsC,SA/BE,SAAAC,GAChBA,EAAEC,iBACE9B,EAAM+B,QAIX1B,EAAS,MAET4E,KALK5E,EAAS,kBA4BL,UAEQD,GACI,qBAAKd,UAAU,qBAAf,SACKc,IAIb,uBACI6B,KAAK,QACL3C,UAAU,oBACV4C,YAAY,gBACZC,SAAU,SAAAN,GAAC,OAAI5B,EAAS4B,EAAEO,OAAOC,QACjCA,MAAOrC,IAEX,wBACIV,UAAU,gCACV2C,KAAK,SAFT,kDCRLK,MAxCf,WAEI,MAAyCvC,oBAAS,GAAlD,mBAAON,EAAP,KAAqB2F,EAArB,KAaF,OAXEjC,qBAAU,WACVhE,EAAKkG,oBAAmB,SAAAtE,GACpBF,QAAQC,IAAIC,GAERqE,EADDrE,GAGkB,WAGtB,KAEmB,IAAjBtB,EACL,cAAC,IAAD,UACQ,sBAAKH,UAAU,YAAf,UACI,cAAC,EAAD,CAAQG,aAAcA,IACtB,eAAC,IAAD,WACI,cAAC,IAAD,CAAO6F,KAAK,SAAZ,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,SAAZ,SACI,cAAC,EAAD,MAEJ,cAAC,IAAD,CAAOA,KAAK,SAAS9F,OAAK,EAA1B,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAO8F,KAAK,IAAI9F,OAAK,EAArB,SACI,oBAAIF,UAAU,cAAd,oEAMhB,6CCvCRiG,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.43a66772.chunk.js","sourcesContent":["import app from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC2Sbx8oBJIbKKJZf4JhSHFxPKaxJsrH4g\",\r\n  authDomain: \"project-auth-crud-2021.firebaseapp.com\",\r\n  projectId: \"project-auth-crud-2021\",\r\n  storageBucket: \"project-auth-crud-2021.appspot.com\",\r\n  messagingSenderId: \"62539735620\",\r\n  appId: \"1:62539735620:web:0f23f0c2cf287dd036d211\"\r\n  };\r\n  // Initialize Firebase\r\n  app.initializeApp(firebaseConfig);\r\n\r\n  const db = app.firestore();\r\n  const auth = app.auth();\r\n\r\n  export {db, auth}","import React from 'react';\r\nimport { Link, NavLink } from 'react-router-dom';\r\nimport {auth} from '../firebase'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst Navbar = (props) => {\r\n\r\n\r\n    const logOut = () => {\r\n        auth.signOut()\r\n            .then(() => {\r\n                props.history.push('/login');\r\n            })\r\n    }\r\n\r\n    return(\r\n        <div className=\"navbar navbar-dark bg-dark\">\r\n            <Link className=\"navbar-brand\" to=\"/\">ListApp</Link>\r\n            <div>\r\n                <div className=\"d-flex\">\r\n                    <NavLink className=\"btn btn-dark mr-2\" to=\"/\" exact>\r\n                        Inicio\r\n                    </NavLink>\r\n                    {\r\n                       props.firebaseUser !== null  ?\r\n                       <NavLink className=\"btn btn-dark mr-2\" to=\"/admin\">\r\n                       Admin\r\n                       </NavLink>  : null\r\n                    }\r\n                    \r\n                        {\r\n                            props.firebaseUser !== null  ? (\r\n                                <button className=\"btn btn-dark\"\r\n                                 onClick={()=>logOut()}\r\n                                 >\r\n                                     Cerrar Sesion\r\n                                </button>\r\n                            ) : (\r\n                                <NavLink className=\"btn btn-dark mr-2\" to=\"/login\">\r\n                                Login\r\n                                </NavLink>\r\n                            )\r\n                        }\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \r\n    )\r\n}\r\n\r\nexport default withRouter(Navbar);","import React, {useCallback, useState} from 'react';\r\nimport {auth, db} from '../firebase';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\n\r\nconst Login = (props) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [pass, setPass] = useState('');\r\n    const [error, setError] = useState(null);\r\n    const [isSignUp, setIsSignUp] = useState(false)\r\n\r\n    const processData = e => {\r\n        e.preventDefault();\r\n        if(!email.trim()){\r\n            setError('Ingrese Email')\r\n            return;\r\n        }\r\n        if(!pass.trim()){\r\n            setError('Ingrese Password')\r\n            return;\r\n        }\r\n        if(pass.length < 6){\r\n            setError('Ingrese password mayor a 6 caracteres')\r\n            return;\r\n        }\r\n       setError(null);\r\n\r\n       if(isSignUp){\r\n           signUp()\r\n       }else{\r\n           login();\r\n       }\r\n       \r\n    }\r\n\r\n    const login = useCallback(async() => {\r\n        try {\r\n           const res =  await auth.signInWithEmailAndPassword(email, pass)\r\n           console.log(res.user);\r\n           setEmail('');\r\n           setPass('');\r\n           setError(null);\r\n           props.history.push('/admin');\r\n        } catch (error) {\r\n            console.log(error);\r\n            if(error.code === 'auth/invalid-email'){\r\n                setError('Email no valido')\r\n            }\r\n            if(error.code === 'auth/email-already-in-use'){\r\n                setError('Email ya utilizado')\r\n              }\r\n            if(error.code === 'auth/user-not-found'){\r\n                setError('Email no registrado')\r\n              }\r\n            if(error.code === 'auth/wrong-password'){\r\n                setError('Password incorrecto')\r\n              }\r\n        }\r\n    }, [email,pass,props.history])\r\n\r\n    const signUp = useCallback(async() => {\r\n        try {\r\n         const res = await  auth.createUserWithEmailAndPassword(email, pass)\r\n         await db.collection('users').doc(res.user.email).set({\r\n             email: res.user.email,\r\n             uid: res.user.uid\r\n         })\r\n         await db.collection(res.user.uid).add({\r\n             name: 'Tarea de ejemplo',\r\n             fecha: Date.now()\r\n         })\r\n         setEmail('');\r\n         setPass('');\r\n         setError(null);\r\n         props.history.push('/admin');\r\n\r\n        } catch (error) {\r\n          console.log('error');  \r\n          if(error.code === 'auth/invalid-email'){\r\n            setError('Email no valido')\r\n          }\r\n          if(error.code === 'auth/email-already-in-use'){\r\n            setError('Email ya utilizado')\r\n          }\r\n        \r\n        }\r\n    }, [email, pass, props.history])\r\n\r\n    return (\r\n        <div className=\"mt-5\">\r\n            <h3 className=\"text-center\">\r\n            {\r\n                isSignUp ? 'Registro' : 'Login'\r\n            }\r\n            </h3>\r\n            <hr/>\r\n            <div className=\"row justify-content-center\">\r\n                <div className=\"col-12 col-sm-8 col-md-6 col-xl-4\">\r\n                    <form onSubmit={processData}>\r\n                        {\r\n                            error && (\r\n                                <div className=\"alert alert-danger\">\r\n                                    {error}\r\n                                </div>\r\n                            )\r\n                        }\r\n                        <input \r\n                            type=\"email\" \r\n                            className=\"form-control mb-2\"\r\n                            placeholder=\"Ingrese Email\"\r\n                            onChange={e => setEmail(e.target.value)}\r\n                            value={email}\r\n                        />\r\n                        <input \r\n                            type=\"password\" \r\n                            className=\"form-control mb-2\"\r\n                            placeholder=\"Ingrese Contraseña\"\r\n                            onChange={e => setPass(e.target.value)}\r\n                            value={pass}\r\n                        \r\n                        />\r\n                        <button \r\n                            className=\"btn btn-lg btn-dark btn-block\"\r\n                            type=\"submit\"\r\n                        >\r\n                           {isSignUp ? 'Registrarse' : 'Acceder' }\r\n                        </button>\r\n                        <button \r\n                            className=\"btn btn-sm btn-info btn-block\"\r\n                            type=\"button\"\r\n                            onClick={()=>setIsSignUp(!isSignUp)}\r\n                        >\r\n                           {\r\n                               isSignUp ? '¿Ya estas registrado?' : '¿No tenes una cuenta?'\r\n                           }\r\n                        </button>\r\n                        {!isSignUp ? ( <button \r\n                            className=\"btn btn-lg btn-danger btn-sm mt-2 btn-block\"\r\n                            type=\"button\"\r\n                            onClick={() => props.history.push('/reset')}\r\n                        >\r\n                          Recuperar Contraseña\r\n                        </button> ) : null}\r\n                       \r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Login)\r\n","import React, {useState, useEffect} from 'react';\r\nimport {db} from '../firebase';\r\nimport moment from 'moment';\r\nimport 'moment/locale/es';\r\n\r\nfunction App(props) {\r\n\r\n  const [tasks, setTasks] = useState([]);\r\n  const [task, setTask] = useState('');\r\n  const [editionMode, setEditionMode] = useState(false);\r\n  const [id, setId] = useState('');\r\n  const [lastPage, setLastPage] = useState(null);\r\n  const [desactivate, setDesactivate] = useState(false);\r\n\r\n  useEffect(() => {\r\n\r\n    const getData = async() => {\r\n      try {\r\n        setDesactivate(true);\r\n\r\n        const data = await db.collection(props.user.uid).limit(2).orderBy('date').get();\r\n        console.log(data.docs);\r\n        const arrayData = data.docs.map(doc => ({id: doc.id, ...doc.data()}))\r\n\r\n        setLastPage(data.docs[data.docs.length - 1]);\r\n        \r\n        console.log(arrayData);\r\n        setTasks(arrayData)\r\n\r\n        const query = await db.collection(props.user.uid).limit(2).orderBy('date').startAfter(data.docs[data.docs.length - 1]).get();\r\n        if(query.empty){\r\n          console.log('No hay mas tareas');\r\n          setDesactivate(true);\r\n        }else{\r\n          setDesactivate(false)\r\n        }\r\n        console.log(data.docs);\r\n\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n\r\n    }\r\n    getData()\r\n  }, [props.user.uid])\r\n\r\n\r\n  const addTask = async(e) =>{\r\n    e.preventDefault();\r\n    if(!task.trim()){\r\n      console.log('esta vacio');\r\n      return;\r\n    }\r\n\r\n    try {\r\n    \r\n      const newTask = {\r\n        name: task,\r\n        date: Date.now()\r\n      }\r\n\r\n      const data = await db.collection(props.user.uid).add(newTask);\r\n\r\n      setTasks([\r\n        ...tasks,\r\n        {...newTask, id: data.id}\r\n      ])\r\n      setTask('')\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  \r\n  }\r\n\r\n\r\n\r\n  const deleteTask = async(id) => {\r\n    try {\r\n     \r\n      await db.collection(props.user.uid).doc(id).delete();\r\n      const arrayFiltered = tasks.filter(item => item.id !== id);\r\n      setTasks(arrayFiltered);\r\n\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }\r\n\r\n\r\n  const activateEdition = (item) => {\r\n    setEditionMode(true)\r\n    setTask(item.name);\r\n    setId(item.id)\r\n  }\r\n\r\n  const editTask = async (e) => {\r\n    e.preventDefault();\r\n    if(!task.trim()){\r\n      console.log('vacio');\r\n      return;\r\n    }\r\n    try {\r\n    \r\n      await db.collection(props.user.uid).doc(id).update({\r\n        name: task\r\n      });\r\n      const arrayEdited = tasks.map(item => (\r\n        item.id === id ? {id: item.id, date: item.date, name: task} : item\r\n      ))\r\n      setTasks(arrayEdited);\r\n      setEditionMode(false)\r\n      setTask('');\r\n      setId('');\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n  }\r\n\r\n  const nextPage = async() => {\r\n    try {\r\n      const data = await db.collection(props.user.uid).limit(2).orderBy('date').startAfter(lastPage).get();\r\n      console.log(data.docs);\r\n      const arrayData = data.docs.map(doc => ({id: doc.id, ...doc.data()}))\r\n      setTasks([\r\n        ...tasks,\r\n        ...arrayData\r\n      ])\r\n      setLastPage(data.docs[data.docs.length - 1]);\r\n\r\n    } catch (error) {\r\n      \r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mb-2\">\r\n    <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n            <h3>Lista de Tareas</h3>\r\n            <ul className=\"list-group\">\r\n            {\r\n                tasks.map(item => (\r\n                <li className=\"list-group-item\" key={item.id}>\r\n                  <span>{item.name} - {moment(item.fecha).format('LLL')}</span>\r\n                  <button \r\n                      className=\"btn btn-danger btn-sm float-right\"\r\n                      onClick={() => deleteTask(item.id)}\r\n                  >\r\n                      Eliminar\r\n                  </button>\r\n                    <button \r\n                        className=\"btn btn-warning btn-sm float-right mr-2\"\r\n                        onClick={() => activateEdition(item)}\r\n                    >\r\n                        Editar\r\n                    </button>\r\n                </li>\r\n                ))\r\n            }\r\n            </ul>\r\n            <button className=\"btn btn-info btn-block mt-2 btn-sm\" onClick={()=> nextPage()} disabled={desactivate}>\r\n              Siguiente\r\n            </button>\r\n        </div>\r\n        <div className=\"col-md-6\">\r\n              <h3>\r\n              {\r\n                  editionMode ? 'Editar Tarea' : 'Agregar Tarea'\r\n              }\r\n              </h3>\r\n              <form onSubmit={editionMode ? editTask:  addTask}>\r\n              <input \r\n                  type=\"text\" \r\n                  className=\"form-control mb-2\"\r\n                  placeholder='Ingrese Tarea'\r\n                  value={task}\r\n                  onChange={e => setTask(e.target.value)}\r\n              />\r\n              <button \r\n                  type='submit'\r\n                  className={\r\n                    editionMode ? 'btn btn-warning btn-block btn-sm' : \r\n                  'btn btn-dark btn-block btn-sm'\r\n                  }\r\n              >\r\n                  {\r\n                  editionMode ? 'Editar' : 'Agregar'\r\n                  }\r\n              </button>\r\n              </form>\r\n          </div>\r\n    </div>\r\n</div>\r\n  );\r\n}\r\n\r\nexport default App;","import React, {useEffect, useState} from 'react';\r\nimport {auth} from '../firebase';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Firestore from './Firestore';\r\n\r\n\r\nconst Admin = (props) => {\r\n\r\n    const [user, setUser] = useState(null)\r\n\r\n    useEffect(() => {\r\n       if(auth.currentUser){\r\n           console.log('Existe un usuario');\r\n           setUser(auth.currentUser)\r\n       }else{\r\n           console.log('No existe el usuario');\r\n           props.history.push('/login');\r\n       }\r\n    }, [props.history, user]);\r\n\r\n    return (\r\n      <div className=\"mt-5\">\r\n          <h3 className=\"text-center\">Ruta protegida</h3>\r\n          {\r\n              user && (\r\n                  <Firestore user={user} />\r\n              )\r\n          }\r\n      </div>\r\n  )\r\n        }\r\nexport default withRouter(Admin);\r\n","import React, {useState, useCallback} from 'react'\r\nimport {auth} from '../firebase';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\n\r\nexport const Reset = (props) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [error, setError] = useState(null);\r\n  \r\n    const processData = e => {\r\n        e.preventDefault();\r\n        if(!email.trim()){\r\n            setError('Ingrese Email')\r\n            return;\r\n        }\r\n       setError(null);\r\n\r\n       resetPassword();\r\n       \r\n    }\r\n\r\n    const resetPassword = useCallback( async() => {\r\n        try {\r\n            await auth.sendPasswordResetEmail(email) \r\n            console.log('correo enviado');\r\n            props.history.push('login')\r\n        } catch (error) {\r\n            console.log(error);\r\n            setError(error.message);\r\n        }\r\n    }, [email,props.history])\r\n\r\n    return (\r\n        <div className=\"mt-5\">\r\n        <h3 className=\"text-center\">\r\n            Reiniciar Contraseña\r\n        </h3>\r\n        <hr/>\r\n        <div className=\"row justify-content-center\">\r\n            <div className=\"col-12 col-sm-8 col-md-6 col-xl-4\">\r\n                <form onSubmit={processData}>\r\n                    {\r\n                        error && (\r\n                            <div className=\"alert alert-danger\">\r\n                                {error}\r\n                            </div>\r\n                        )\r\n                    }\r\n                    <input \r\n                        type=\"email\" \r\n                        className=\"form-control mb-2\"\r\n                        placeholder=\"Ingrese Email\"\r\n                        onChange={e => setEmail(e.target.value)}\r\n                        value={email}\r\n                    />\r\n                    <button \r\n                        className=\"btn btn-lg btn-dark btn-block\"\r\n                        type=\"submit\"\r\n                    >\r\n                      Reiniciar Contraseña\r\n                    </button>              \r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Reset);","import React, {useState, useEffect} from 'react';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport Login from './components/Login';\nimport Admin from './components/Admin';\nimport Reset from './components/Reset';\nimport {auth} from './firebase';\n\n\nfunction App() {\n\n    const [firebaseUser, setFirebaserUser] = useState(false)\n\n    useEffect(() => {\n    auth.onAuthStateChanged(user => {\n        console.log(user);\n        if(user){\n            setFirebaserUser(user);\n        }else{\n            setFirebaserUser(null)\n        }\n    })\n    }, []);\n\n  return firebaseUser !== false ? (\n    <Router>\n            <div className=\"container\">\n                <Navbar firebaseUser={firebaseUser} />\n                <Switch>\n                    <Route path=\"/login\">\n                        <Login/>\n                    </Route>\n                    <Route path=\"/admin\">\n                        <Admin/>\n                    </Route>\n                    <Route path=\"/reset\" exact>\n                      <Reset />\n                    </Route>\n                    <Route path=\"/\" exact>\n                        <h1 className=\"text-center\">Hola! Hace loguin y crea tu lista de tareas </h1>\n                    </Route>\n                </Switch>\n            </div>\n    </Router>\n    ) : (\n        <p>Cargando...</p>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}